{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport CartList from '../components/cart/CartList.vue';\nimport ProductList from '../components/product/ProductList.vue';\nimport ProductItem from '../components/product/ProductItem.vue';\nimport LoginBox from '../components/login/LoginBox.vue';\nimport NotFound from '../components/NotFound.vue';\nVue.use(VueRouter);\nconst router = new VueRouter({\n  mode: 'history',\n  routes: [{\n    path: '/products',\n    component: ProductList\n  }, {\n    path: '/products/:id',\n    component: ProductItem,\n    props: true,\n    beforeEnter: (to, from, next) => {\n      const id = to.params.id;\n      if (![1, 2, 3, 4].includes(Number(id))) next('/not-found');else next();\n    }\n  }, {\n    path: '/cart',\n    component: CartList\n  }, {\n    path: '/login',\n    component: LoginBox,\n    beforeEnter: (to, from, next) => {\n      const token = localStorage.getItem(\"token\");\n      if (token) next('/products');else next();\n    }\n  }, {\n    path: '/',\n    redirect: '/products'\n  }, {\n    path: '*',\n    component: NotFound\n  }]\n});\nrouter.beforeEach((to, from, next) => {\n  const token = localStorage.getItem(\"token\");\n  if (!token && to.path !== '/login') next('/login');else next();\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","CartList","ProductList","ProductItem","LoginBox","NotFound","use","router","mode","routes","path","component","props","beforeEnter","to","from","next","id","params","includes","Number","token","localStorage","getItem","redirect","beforeEach"],"sources":["/Users/duongviet/Documents/routing/shopping_cart/src/app-complete/router/index.js"],"sourcesContent":["import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport CartList from '../components/cart/CartList.vue';\nimport ProductList from '../components/product/ProductList.vue';\nimport ProductItem from '../components/product/ProductItem.vue';\nimport LoginBox from '../components/login/LoginBox.vue';\nimport NotFound from '../components/NotFound.vue';\n\nVue.use(VueRouter);\n\nconst router = new VueRouter({\n  mode: 'history',\n  routes: [\n    {\n      path: '/products',\n      component: ProductList\n    },\n    {\n      path: '/products/:id',\n      component: ProductItem,\n      props: true,\n      beforeEnter: (to, from, next) => {\n        const id = to.params.id;\n        if (![1, 2, 3, 4].includes(Number(id))) next('/not-found');\n        else next();\n      }\n    },\n    {\n      path: '/cart',\n      component: CartList\n    },\n    {\n      path: '/login',\n      component: LoginBox,\n      beforeEnter: (to, from, next) => {\n        const token = localStorage.getItem(\"token\");\n        if (token) next('/products');\n        else next();\n      }\n    },\n    {\n      path: '/',\n      redirect: '/products'\n    },\n    {\n      path: '*',\n      component: NotFound\n    }\n  ]\n});\n\nrouter.beforeEach((to, from, next) => {\n  const token = localStorage.getItem(\"token\");\n  if (!token && to.path !== '/login') next('/login');\n  else next();\n});\n\nexport default router;\n"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,iCAArB;AACA,OAAOC,WAAP,MAAwB,uCAAxB;AACA,OAAOC,WAAP,MAAwB,uCAAxB;AACA,OAAOC,QAAP,MAAqB,kCAArB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AAEAN,GAAG,CAACO,GAAJ,CAAQN,SAAR;AAEA,MAAMO,MAAM,GAAG,IAAIP,SAAJ,CAAc;EAC3BQ,IAAI,EAAE,SADqB;EAE3BC,MAAM,EAAE,CACN;IACEC,IAAI,EAAE,WADR;IAEEC,SAAS,EAAET;EAFb,CADM,EAKN;IACEQ,IAAI,EAAE,eADR;IAEEC,SAAS,EAAER,WAFb;IAGES,KAAK,EAAE,IAHT;IAIEC,WAAW,EAAE,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;MAC/B,MAAMC,EAAE,GAAGH,EAAE,CAACI,MAAH,CAAUD,EAArB;MACA,IAAI,CAAC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAaE,QAAb,CAAsBC,MAAM,CAACH,EAAD,CAA5B,CAAL,EAAwCD,IAAI,CAAC,YAAD,CAAJ,CAAxC,KACKA,IAAI;IACV;EARH,CALM,EAeN;IACEN,IAAI,EAAE,OADR;IAEEC,SAAS,EAAEV;EAFb,CAfM,EAmBN;IACES,IAAI,EAAE,QADR;IAEEC,SAAS,EAAEP,QAFb;IAGES,WAAW,EAAE,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;MAC/B,MAAMK,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;MACA,IAAIF,KAAJ,EAAWL,IAAI,CAAC,WAAD,CAAJ,CAAX,KACKA,IAAI;IACV;EAPH,CAnBM,EA4BN;IACEN,IAAI,EAAE,GADR;IAEEc,QAAQ,EAAE;EAFZ,CA5BM,EAgCN;IACEd,IAAI,EAAE,GADR;IAEEC,SAAS,EAAEN;EAFb,CAhCM;AAFmB,CAAd,CAAf;AAyCAE,MAAM,CAACkB,UAAP,CAAkB,CAACX,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;EACpC,MAAMK,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;EACA,IAAI,CAACF,KAAD,IAAUP,EAAE,CAACJ,IAAH,KAAY,QAA1B,EAAoCM,IAAI,CAAC,QAAD,CAAJ,CAApC,KACKA,IAAI;AACV,CAJD;AAMA,eAAeT,MAAf"},"metadata":{},"sourceType":"module"}